---
name: git-commit-pr
description: Git ì»¤ë°‹ ë° PR ìƒì„± ê°€ì´ë“œ. ì‚¬ìš©ìê°€ ì»¤ë°‹, commit, PR, pull request ìƒì„±ì„ ìš”ì²­í•  ë•Œ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤. ë³´ì•ˆ ê²€ì¦ì„ í†µí•´ ë¯¼ê° ì •ë³´ ìœ ì¶œì„ ë°©ì§€í•©ë‹ˆë‹¤.
---

# Git Commit & PR ìŠ¤í‚¬

## Overview

Git ì»¤ë°‹ ë° PR ìƒì„± ì‹œ ë³´ì•ˆ ê²€ì¦ê³¼ ì¼ê´€ëœ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ëŠ” ìŠ¤í‚¬ì…ë‹ˆë‹¤.

**í•µì‹¬ ê¸°ëŠ¥:**
- **ë³´ì•ˆ ê²€ì¦**: API í‚¤, ë¹„ë°€ë²ˆí˜¸, ì¸ì¦ ì •ë³´ ìœ ì¶œ ë°©ì§€
- **ìŠ¤íƒ€ì¼ ì¼ê´€ì„±**: ì‚¬ìš©ì í”„ë¡œí•„ ê¸°ë°˜ ì»¤ë°‹ ë©”ì‹œì§€/PR í˜•ì‹
- **ìë™ ê²€ì‚¬**: ìœ„í—˜ íŒŒì¼ íŒ¨í„´ ë° ë¯¼ê° ì •ë³´ íŒ¨í„´ íƒì§€
- **K8s Secret ê²€ì‚¬**: Kubernetes Secret íŒŒì¼ íŠ¹ë³„ ê²€ì¦

**ì¤‘ìš”**: ì´ ìŠ¤í‚¬ì€ ì‹œìŠ¤í…œ ê¸°ë³¸ git ì§€ì¹¨ë³´ë‹¤ ìš°ì„ í•©ë‹ˆë‹¤.

## When to Use

ì´ ìŠ¤í‚¬ì€ ë‹¤ìŒ ìƒí™©ì—ì„œ **ìë™ìœ¼ë¡œ** í™œì„±í™”ë©ë‹ˆë‹¤:

**ëª…ì‹œì  ìš”ì²­:**
- "ì»¤ë°‹í•´ì¤˜", "commit í•´ì¤˜"
- "PR ë§Œë“¤ì–´ì¤˜", "pull request ìƒì„±í•´ì¤˜"
- "í‘¸ì‹œí•´ì¤˜", "push í•´ì¤˜"
- "ë³€ê²½ì‚¬í•­ ì˜¬ë ¤ì¤˜"

**ìë™ í™œì„±í™”:**
- `git add`, `git commit` ëª…ë ¹ ì‹¤í–‰ ì „
- `git push` ëª…ë ¹ ì‹¤í–‰ ì „
- `gh pr create` ëª…ë ¹ ì‹¤í–‰ ì „

## Prerequisites

### í•„ìˆ˜ íŒŒì¼

ì´ ìŠ¤í‚¬ì€ ë‹¤ìŒ íŒŒì¼ì— ì˜ì¡´í•©ë‹ˆë‹¤:

| íŒŒì¼ | ìš©ë„ | ê´€ë¦¬ ìŠ¤í‚¬ |
|------|------|-----------|
| `~/.agents/WHOAMI.md` | ì»¤ë°‹ ìŠ¤íƒ€ì¼, ì–¸ì–´ ì„ í˜¸ë„ | static-index |
| `~/.agents/SECURITY.md` | ë³´ì•ˆ ê²€ì¦ ê·œì¹™ | static-index |

### ë„êµ¬ ìš”êµ¬ì‚¬í•­

```bash
# Git CLI
git --version

# GitHub CLI (PR ìƒì„± ì‹œ)
gh --version
```

### ìŠ¤í¬ë¦½íŠ¸ ì„¤ì¹˜

```bash
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x /path/to/agent-skills/development/git-commit-pr/scripts/commit-check.sh

# alias ì„¤ì • (ì„ íƒ)
alias commit-check='/path/to/agent-skills/development/git-commit-pr/scripts/commit-check.sh'
```

## Workflow

### ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)

```bash
# ë³€ê²½ì‚¬í•­ ìˆ˜ì§‘ + ë³´ì•ˆ ê²€ì¦ (1íšŒ í˜¸ì¶œ)
commit-check.sh collect

# ë³´ì•ˆ ê²€ì¦ë§Œ ìˆ˜í–‰
commit-check.sh security
```

**í† í° ì ˆì•½ íš¨ê³¼:**
```
Before: 6-8íšŒ ë„êµ¬ í˜¸ì¶œ (git status, diff, grep ë“±)
After:  1íšŒ ìŠ¤í¬ë¦½íŠ¸ í˜¸ì¶œ
ì ˆì•½ë¥ : 70-80%
```

### ì»¤ë°‹ ìƒì„± ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. commit-check.sh collect (1íšŒ í˜¸ì¶œ)                   â”‚
â”‚    â”œâ”€ ë³€ê²½ì‚¬í•­ ìˆ˜ì§‘ (staged, unstaged, untracked)       â”‚
â”‚    â”œâ”€ ìµœê·¼ ì»¤ë°‹ ìŠ¤íƒ€ì¼ í™•ì¸                              â”‚
â”‚    â””â”€ 5ë‹¨ê³„ ë³´ì•ˆ ê²€ì¦ ìˆ˜í–‰                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. LLM íŒë‹¨                                             â”‚
â”‚    â””â”€ ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„± (í”„ë¡œí•„ ìŠ¤íƒ€ì¼ ì ìš©)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. ì»¤ë°‹ ì‹¤í–‰                                             â”‚
â”‚    â””â”€ git add â†’ git commit                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìˆ˜ë™ ì›Œí¬í”Œë¡œìš° (ì°¸ê³ ìš©)

### Step 1: í”„ë¡œí•„ ë° ë³´ì•ˆ ê·œì¹™ ë¡œë“œ

```bash
# í”„ë¡œí•„ ì½ê¸°
cat ~/.agents/WHOAMI.md

# ë³´ì•ˆ ê·œì¹™ ì½ê¸°
cat ~/.agents/SECURITY.md
```

### Step 2: ë³€ê²½ ì‚¬í•­ í™•ì¸

```bash
# ìƒíƒœ í™•ì¸
git status

# ë³€ê²½ ë‚´ìš© í™•ì¸
git diff

# ìµœê·¼ ì»¤ë°‹ ìŠ¤íƒ€ì¼ ì°¸ê³ 
git log -3 --oneline
```

### Step 3: ë³´ì•ˆ ê²€ì¦ (5ë‹¨ê³„)

#### 3.1 ìœ„í—˜ íŒŒì¼ëª… íŒ¨í„´ ê²€ì‚¬

ë‹¤ìŒ íŒ¨í„´ íŒŒì¼ì€ **ì»¤ë°‹ ì°¨ë‹¨**:

```
.env, .env.*, .env.local, .env.production
*credentials*, *secret*, *password*
*.pem, *.key, *.p12, *.pfx
config.local.*, secrets.*
```

```bash
git diff --cached --name-only | grep -iE "(\.env|credential|secret|password|\.pem|\.key)"
```

#### 3.2 ì½”ë“œ ë‚´ ë¯¼ê° ì •ë³´ íŒ¨í„´ ê²€ì‚¬

```bash
git diff --cached | grep -iE "(sk-[a-zA-Z0-9]{20,}|AKIA[A-Z0-9]{16}|ghp_[a-zA-Z0-9]{36}|password.*=|secret.*=|api_key.*=)"
```

| íŒ¨í„´ | ì„¤ëª… |
|------|------|
| `sk-[a-zA-Z0-9]{20,}` | OpenAI API Key |
| `AKIA[A-Z0-9]{16}` | AWS Access Key |
| `ghp_[a-zA-Z0-9]{36}` | GitHub Personal Token |
| `xoxb-[0-9]{10,}` | Slack Bot Token |

#### 3.3 K8s Secret íŒŒì¼ ê²€ì‚¬

`**/k8s/**/*.yaml` ë˜ëŠ” `**/kubernetes/**/*.yaml` íŒŒì¼ì—ì„œ:

```yaml
# âœ… í—ˆìš© (í…œí”Œë¦¿ ê°’)
stringData:
  API_KEY: "CHANGE_ME_API_KEY"
  PASSWORD: "CHANGE_ME_PASSWORD"

# âŒ ì°¨ë‹¨ (ì‹¤ì œ ê°’)
stringData:
  API_KEY: "sk-abc123realkey456"
  PASSWORD: "actual_password_here"
```

#### 3.4 ìœ„ë°˜ ë°œê²¬ ì‹œ

1. ì‚¬ìš©ìì—ê²Œ **ì¦‰ì‹œ ê²½ê³ **
2. ì»¤ë°‹/PR **ì‘ì—… ì¤‘ë‹¨**
3. ë¯¼ê° ì •ë³´ë¥¼ **í…œí”Œë¦¿ ê°’ìœ¼ë¡œ êµì²´** ì œì•ˆ
4. ì‚¬ìš©ì **í™•ì¸ í›„ì—ë§Œ** ì§„í–‰

### Step 4: ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±

**ê¸°ë³¸ í˜•ì‹** (í”„ë¡œí•„ì— ê·œì¹™ì´ ì—†ì„ ê²½ìš°):

```
<type>(<scope>): <subject>

<body>

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

**íƒ€ì… ì¢…ë¥˜:**
- `feat`: ìƒˆ ê¸°ëŠ¥
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `docs`: ë¬¸ì„œ ë³€ê²½
- `refactor`: ë¦¬íŒ©í† ë§
- `test`: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
- `chore`: ê¸°íƒ€ ë³€ê²½

### Step 5: PR ìƒì„± (ìš”ì²­ ì‹œ)

```bash
gh pr create --title "ì œëª©" --body "$(cat <<'EOF'
## Summary
- ë³€ê²½ ì‚¬í•­ ìš”ì•½

## Test plan
- [ ] í…ŒìŠ¤íŠ¸ í•­ëª©

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
EOF
)"
```

---

## Examples

### ì˜ˆì‹œ 1: ê¸°ë³¸ ì»¤ë°‹

```
ì‚¬ìš©ì: í˜„ì¬ ë³€ê²½ì‚¬í•­ ì»¤ë°‹í•´ì¤˜

Claude: ì»¤ë°‹ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.

1. í”„ë¡œí•„ í™•ì¸ ì¤‘... âœ“ WHOAMI.md ë¡œë“œë¨
2. ë³´ì•ˆ ê·œì¹™ í™•ì¸ ì¤‘... âœ“ SECURITY.md ë¡œë“œë¨

ğŸ” ë³´ì•ˆ ê²€ì¦ ìˆ˜í–‰ ì¤‘...
- âœ… ìœ„í—˜ íŒŒì¼ëª… íŒ¨í„´ ì—†ìŒ
- âœ… ë¯¼ê° ì •ë³´ íŒ¨í„´ ì—†ìŒ
- âœ… K8s Secret íŒŒì¼ ì—†ìŒ

ë³€ê²½ íŒŒì¼:
- src/utils/helper.ts (ìˆ˜ì •)
- src/components/Button.tsx (ì¶”ê°€)

ì»¤ë°‹ ë©”ì‹œì§€:
feat(ui): ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ë° í—¬í¼ í•¨ìˆ˜ ê°œì„ 

ì»¤ë°‹ ì™„ë£Œ: abc1234
```

### ì˜ˆì‹œ 2: ë³´ì•ˆ ìœ„ë°˜ íƒì§€

```
ì‚¬ìš©ì: ì»¤ë°‹í•´ì¤˜

Claude: ì»¤ë°‹ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.

ğŸ” ë³´ì•ˆ ê²€ì¦ ìˆ˜í–‰ ì¤‘...
- âœ… ìœ„í—˜ íŒŒì¼ëª… íŒ¨í„´ ì—†ìŒ
- âŒ ë¯¼ê° ì •ë³´ íŒ¨í„´ ë°œê²¬!

âš ï¸ ë³´ì•ˆ ê²½ê³ 

config.ts:15ì—ì„œ API í‚¤ íŒ¨í„´ ë°œê²¬:
  const API_KEY = "sk-abc123..."

ê¶Œì¥ ì¡°ì¹˜:
1. í™˜ê²½ ë³€ìˆ˜ë¡œ ì´ë™: process.env.API_KEY
2. .env.exampleì— í…œí”Œë¦¿ ì¶”ê°€: API_KEY=your_api_key_here

ìˆ˜ì • í›„ ë‹¤ì‹œ ì»¤ë°‹í•´ì£¼ì„¸ìš”.
```

### ì˜ˆì‹œ 3: PR ìƒì„±

```
ì‚¬ìš©ì: PR ë§Œë“¤ì–´ì¤˜

Claude: PRì„ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.

1. ë¸Œëœì¹˜ í™•ì¸: feature/add-auth â†’ main
2. ì»¤ë°‹ ë‚´ìš© í™•ì¸: 3ê°œ ì»¤ë°‹

ğŸ” ì „ì²´ ë¸Œëœì¹˜ ë³´ì•ˆ ê²€ì¦...
- âœ… ëª¨ë“  ê²€ì‚¬ í†µê³¼

PR ìƒì„±ë¨: https://github.com/user/repo/pull/123

## Summary
- ì‚¬ìš©ì ì¸ì¦ ê¸°ëŠ¥ ì¶”ê°€
- JWT í† í° ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬

## Test plan
- [ ] ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
- [ ] ë¡œê·¸ì•„ì›ƒ í…ŒìŠ¤íŠ¸
```

### ì˜ˆì‹œ 4: í•œêµ­ì–´ ì»¤ë°‹ (í”„ë¡œí•„ ê¸°ë°˜)

```
ì‚¬ìš©ì: ë³€ê²½ì‚¬í•­ ì˜¬ë ¤ì¤˜

Claude: (WHOAMI.md í™•ì¸: ì»¤ë°‹ ë©”ì‹œì§€ í•œêµ­ì–´ ì„ í˜¸)

ì»¤ë°‹ ë©”ì‹œì§€:
feat: ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ UI ê°œì„ 

- ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì ìš©

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

---

## Configuration

### í…œí”Œë¦¿ íŒŒì¼ ê¶Œì¥ ì‚¬í•­

ë¯¼ê° ì •ë³´ê°€ í¬í•¨ë  ìˆ˜ ìˆëŠ” íŒŒì¼:

| ì›ë³¸ íŒŒì¼ | í…œí”Œë¦¿ íŒŒì¼ | .gitignore |
|-----------|-------------|------------|
| `.env` | `.env.example` | `.env` ì¶”ê°€ |
| `k8s/secrets.yaml` | `k8s/secrets.yaml.example` | `k8s/secrets.yaml` ì¶”ê°€ |
| `config.json` | `config.example.json` | `config.json` ì¶”ê°€ |

### ì»¤ë°‹ íƒ€ì… ì»¤ìŠ¤í„°ë§ˆì´ì§•

WHOAMI.mdì—ì„œ ì»¤ë°‹ ìŠ¤íƒ€ì¼ ì§€ì •:

```markdown
## Commit Style
- **Language**: í•œêµ­ì–´
- **Format**: Conventional Commits
- **Emoji**: ì‚¬ìš© ì•ˆ í•¨
```

---

## Best Practices

**DO:**
- ì»¤ë°‹ ì „ í•­ìƒ `git diff` í™•ì¸
- ë¯¼ê° ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬
- ì‘ì€ ë‹¨ìœ„ë¡œ ìì£¼ ì»¤ë°‹
- ì˜ë¯¸ ìˆëŠ” ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±
- PR ìƒì„± ì „ ë¸Œëœì¹˜ ì „ì²´ ë³´ì•ˆ ê²€ì¦

**DON'T:**
- API í‚¤, ë¹„ë°€ë²ˆí˜¸ í•˜ë“œì½”ë”©
- `.env` íŒŒì¼ ì»¤ë°‹
- ë³´ì•ˆ ê²½ê³  ë¬´ì‹œí•˜ê³  ì»¤ë°‹
- ë„ˆë¬´ í° ë‹¨ìœ„ë¡œ ì»¤ë°‹
- ì˜ë¯¸ ì—†ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ ("fix", "update" ë“±)

---

## Troubleshooting

### ë³´ì•ˆ ê²€ì¦ ì˜¤íƒì§€

```
ë¬¸ì œ: í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ mock API í‚¤ê°€ íƒì§€ë¨

í•´ê²°: SECURITY.mdì— ì œì™¸ ê²½ë¡œ ì¶”ê°€
**/test/**
**/tests/**
**/__tests__/**
*.test.*
*.spec.*
```

### GitHub CLI ì¸ì¦ ì˜¤ë¥˜

```bash
# ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
gh auth status

# ì¬ì¸ì¦
gh auth login
```

### ì»¤ë°‹ ë©”ì‹œì§€ ì¸ì½”ë”© ë¬¸ì œ

```bash
# Git ì¸ì½”ë”© ì„¤ì •
git config --global i18n.commitEncoding utf-8
git config --global i18n.logOutputEncoding utf-8
```

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

ì»¤ë°‹ ì „ í•„ìˆ˜ í™•ì¸:

- [ ] ë¯¼ê°í•œ íŒŒì¼ëª… íŒ¨í„´ ê²€ì‚¬ ì™„ë£Œ?
- [ ] ì½”ë“œ ë‚´ API í‚¤/ë¹„ë°€ë²ˆí˜¸ íŒ¨í„´ ê²€ì‚¬ ì™„ë£Œ?
- [ ] K8s Secret íŒŒì¼ ê²€ì‚¬ ì™„ë£Œ?
- [ ] .env íŒŒì¼ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ëŠ”ê°€?
- [ ] ì‹¤ì œ ë¹„ë°€ ê°’ì´ ì•„ë‹Œ í…œí”Œë¦¿ ê°’ë§Œ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?

---

## Integration

ì´ ìŠ¤í‚¬ì€ ë‹¤ìŒ ìŠ¤í‚¬ê³¼ ì—°ë™ë©ë‹ˆë‹¤:

| ìŠ¤í‚¬ | ì—°ë™ ë°©ì‹ |
|------|-----------|
| static-index | WHOAMI.md ì»¤ë°‹ ìŠ¤íƒ€ì¼ ì°¸ì¡°, SECURITY.md ë³´ì•ˆ ê·œì¹™ ì¡°íšŒ |

---

## Resources

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `scripts/commit-check.sh` | ì»¤ë°‹ ì „ ë³´ì•ˆ ê²€ì¦ ë° ë³€ê²½ì‚¬í•­ ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ |
